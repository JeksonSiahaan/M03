<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>M03.1</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <style>
       body {
          background-color: rgb(32, 196, 130);;
            background-attachment: fixed;
        }
        table {
            background-color: rgb(14, 147, 219);
        }
        h1 {
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }
        .font {
          font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }
        
    </style>
  </head class="font">
  <body>
    <div class="container mt-5">
      <h1 class="text-center mb-4">Punny Web</h1>
      <table class="table table-striped" id="dataTabel">
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Username</th>
          <th>Email</th>
          <th>City</th>
        </tr>
      </table>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script>
      $(document).ready(function () {
        let show = function (response) {
          data = $.parseJSON(response);
          var trHTML = "";
          $(function () {
            $.each(data, function (i, item) {
              trHTML +=
                "<tr><td>" +
                item.id +
                "</td><td>" +
                item.name +
                "</td><td>" +
                item.username +
                "</td></td>" +
                item.email +
                "</td><td>" +
                item.email +
                "</td><td>" +
                item.address.city +
                "</td></tr>";
            });
            $("#dataTabel").append(trHTML);
          });
        };

        let load = function () {
          let link = "https://jsonplaceholder.typicode.com/users";
          let xhr;
          xhr = new XMLHttpRequest();
          try {
            xhr = new XMLHttpRequest();
            if (!xhr) return -1;

            xhr.onreadystatechange = function () {
              if (xhr.readyState === 4 && xhr.status === 200) {
                show(xhr.responseText);
              }
            };

            xhr.open("GET", link);
            xhr.send();
          } catch (e) {
            console.log(e);
          }
        };
        load();
      });
    </script>
  </body>
</html>